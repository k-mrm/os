/*
 * Copyright (c) 2024, akarilab.net
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. Neither the name of the copyright holder nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#include <akari/types.h>
#include <akari/compiler.h>

#include "trap.h"

asm (
	".globl AllVectors \n"
	"AllVectors: \n"
);

// __vector0xnn_()
#define VECTOR(_n)	\
	void __vector ## _n ## _(void);	\
	asm (	\
		"__vector" #_n "_:\n"	\
		"	push $" #_n "\n"	\
		" 	jmp TrapHandler\n"	\
	)

VECTOR(0x00); VECTOR(0x01); VECTOR(0x02); VECTOR(0x03);
VECTOR(0x04); VECTOR(0x05); VECTOR(0x06); VECTOR(0x07);
VECTOR(0x08); VECTOR(0x09); VECTOR(0x0a); VECTOR(0x0b);
VECTOR(0x0c); VECTOR(0x0d); VECTOR(0x0e); VECTOR(0x0f);
VECTOR(0x10); VECTOR(0x11); VECTOR(0x12); VECTOR(0x13);
VECTOR(0x14); VECTOR(0x15); VECTOR(0x16); VECTOR(0x17);
VECTOR(0x18); VECTOR(0x19); VECTOR(0x1a); VECTOR(0x1b);
VECTOR(0x1c); VECTOR(0x1d); VECTOR(0x1e); VECTOR(0x1f);
VECTOR(0x20); VECTOR(0x21); VECTOR(0x22); VECTOR(0x23);
VECTOR(0x24); VECTOR(0x25); VECTOR(0x26); VECTOR(0x27);
VECTOR(0x28); VECTOR(0x29); VECTOR(0x2a); VECTOR(0x2b);
VECTOR(0x2c); VECTOR(0x2d); VECTOR(0x2e); VECTOR(0x2f);
VECTOR(0x30); VECTOR(0x31); VECTOR(0x32); VECTOR(0x33);
VECTOR(0x34); VECTOR(0x35); VECTOR(0x36); VECTOR(0x37);
VECTOR(0x38); VECTOR(0x39); VECTOR(0x3a); VECTOR(0x3b);
VECTOR(0x3c); VECTOR(0x3d); VECTOR(0x3e); VECTOR(0x3f);
VECTOR(0x40); VECTOR(0x41); VECTOR(0x42); VECTOR(0x43);
VECTOR(0x44); VECTOR(0x45); VECTOR(0x46); VECTOR(0x47);
VECTOR(0x48); VECTOR(0x49); VECTOR(0x4a); VECTOR(0x4b);
VECTOR(0x4c); VECTOR(0x4d); VECTOR(0x4e); VECTOR(0x4f);
VECTOR(0x50); VECTOR(0x51); VECTOR(0x52); VECTOR(0x53);
VECTOR(0x54); VECTOR(0x55); VECTOR(0x56); VECTOR(0x57);
VECTOR(0x58); VECTOR(0x59); VECTOR(0x5a); VECTOR(0x5b);
VECTOR(0x5c); VECTOR(0x5d); VECTOR(0x5e); VECTOR(0x5f);
VECTOR(0x60); VECTOR(0x61); VECTOR(0x62); VECTOR(0x63);
VECTOR(0x64); VECTOR(0x65); VECTOR(0x66); VECTOR(0x67);
VECTOR(0x68); VECTOR(0x69); VECTOR(0x6a); VECTOR(0x6b);
VECTOR(0x6c); VECTOR(0x6d); VECTOR(0x6e); VECTOR(0x6f);
VECTOR(0x70); VECTOR(0x71); VECTOR(0x72); VECTOR(0x73);
VECTOR(0x74); VECTOR(0x75); VECTOR(0x76); VECTOR(0x77);
VECTOR(0x78); VECTOR(0x79); VECTOR(0x7a); VECTOR(0x7b);
VECTOR(0x7c); VECTOR(0x7d); VECTOR(0x7e); VECTOR(0x7f);
VECTOR(0x80); VECTOR(0x81); VECTOR(0x82); VECTOR(0x83);
VECTOR(0x84); VECTOR(0x85); VECTOR(0x86); VECTOR(0x87);
VECTOR(0x88); VECTOR(0x89); VECTOR(0x8a); VECTOR(0x8b);
VECTOR(0x8c); VECTOR(0x8d); VECTOR(0x8e); VECTOR(0x8f);
VECTOR(0x90); VECTOR(0x91); VECTOR(0x92); VECTOR(0x93);
VECTOR(0x94); VECTOR(0x95); VECTOR(0x96); VECTOR(0x97);
VECTOR(0x98); VECTOR(0x99); VECTOR(0x9a); VECTOR(0x9b);
VECTOR(0x9c); VECTOR(0x9d); VECTOR(0x9e); VECTOR(0x9f);
VECTOR(0xa0); VECTOR(0xa1); VECTOR(0xa2); VECTOR(0xa3);
VECTOR(0xa4); VECTOR(0xa5); VECTOR(0xa6); VECTOR(0xa7);
VECTOR(0xa8); VECTOR(0xa9); VECTOR(0xaa); VECTOR(0xab);
VECTOR(0xac); VECTOR(0xad); VECTOR(0xae); VECTOR(0xaf);
VECTOR(0xb0); VECTOR(0xb1); VECTOR(0xb2); VECTOR(0xb3);
VECTOR(0xb4); VECTOR(0xb5); VECTOR(0xb6); VECTOR(0xb7);
VECTOR(0xb8); VECTOR(0xb9); VECTOR(0xba); VECTOR(0xbb);
VECTOR(0xbc); VECTOR(0xbd); VECTOR(0xbe); VECTOR(0xbf);
VECTOR(0xc0); VECTOR(0xc1); VECTOR(0xc2); VECTOR(0xc3);
VECTOR(0xc4); VECTOR(0xc5); VECTOR(0xc6); VECTOR(0xc7);
VECTOR(0xc8); VECTOR(0xc9); VECTOR(0xca); VECTOR(0xcb);
VECTOR(0xcc); VECTOR(0xcd); VECTOR(0xce); VECTOR(0xcf);
VECTOR(0xd0); VECTOR(0xd1); VECTOR(0xd2); VECTOR(0xd3);
VECTOR(0xd4); VECTOR(0xd5); VECTOR(0xd6); VECTOR(0xd7);
VECTOR(0xd8); VECTOR(0xd9); VECTOR(0xda); VECTOR(0xdb);
VECTOR(0xdc); VECTOR(0xdd); VECTOR(0xde); VECTOR(0xdf);
VECTOR(0xe0); VECTOR(0xe1); VECTOR(0xe2); VECTOR(0xe3);
VECTOR(0xe4); VECTOR(0xe5); VECTOR(0xe6); VECTOR(0xe7);
VECTOR(0xe8); VECTOR(0xe9); VECTOR(0xea); VECTOR(0xeb);
VECTOR(0xec); VECTOR(0xed); VECTOR(0xee); VECTOR(0xef);
VECTOR(0xf0); VECTOR(0xf1); VECTOR(0xf2); VECTOR(0xf3);
VECTOR(0xf4); VECTOR(0xf5); VECTOR(0xf6); VECTOR(0xf7);
VECTOR(0xf8); VECTOR(0xf9); VECTOR(0xfa); VECTOR(0xfb);
VECTOR(0xfc); VECTOR(0xfd); VECTOR(0xfe); VECTOR(0xff);

#undef VECTOR

void INIT
TrapInit(void)
{
	;
}
